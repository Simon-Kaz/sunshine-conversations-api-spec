parameters:
  - $ref: "../components/parameters/appId.yaml"
post:
  tags:
    - App Keys
  summary: Create App Key
  operationId: createAppKey
  description: |
    Creates an API key for the specified app. The response body will include a secret 
    as well as its corresponding id, which you can use to generate JSON Web Tokens to 
    securely make API calls on behalf of the app.
  security:
    - basicAuth: [account]
    - bearerAuth: [account]
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          title: AppKeyCreateBody
          properties:
            displayName:
              allOf:
                - $ref: "../components/schemas/displayName.yaml"
              example: "Key 1"
          required:
            - displayName
  responses:
    "201":
      description: Created
      content:
        application/json:
          schema:
            $ref: "../components/responses/appKeyResponse.yaml"
get:
  tags:
    - App Keys
  summary: List App Keys
  operationId: listAppKeys
  description: Lists all API keys for a given app.
  security:
    - basicAuth: [account]
    - bearerAuth: [account]
  responses:
    "200":
      description: Ok
      content:
        application/json:
          schema:
            $ref: "../components/responses/appKeyListResponse.yaml"