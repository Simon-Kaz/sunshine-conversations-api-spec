parameters:
  - $ref: "../components/parameters/appId.yaml"
  - $ref: "../components/parameters/integrationId.yaml"
post:
  tags:
    - CustomIntegrationApiKeys
  summary: Create Integration Key
  operationId: createCustomIntegrationKey
  description:
    Creates an API key for the specified custom integration. The response body will include a secret as
    well itâ€™s corresponding id, which you can use to generate JSON Web Tokens to securely make API
    calls on behalf of the integration.
  security:
    - basicAuth: [app, account]
    - bearerAuth: [app, account]
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          title: IntegrationApiKey
          properties:
            displayName:
              type: string
              description: The name of the API key.
              example: "My custom key"
          required:
            - displayName
  responses:
    "201":
      description: Created
      content:
        application/json:
          schema:
            $ref: "../components/responses/integrationApiKeyResponse.yaml"
get:
  tags:
    - CustomIntegrationApiKeys
  summary: List Integration Keys
  operationId: listCustomIntegrationKeys
  description: Lists all API keys for a given integration.
  security:
    - basicAuth: [app, account]
    - bearerAuth: [app, account]
  responses:
    "200":
      description: Ok
      content:
        application/json:
          schema:
            type: object
            title: IntegrationApiKeyListResponse
            properties:
              keys:
                type: array
                description: Integration keys of the supplied integration.
                items:
                  $ref: "../components/schemas/apiKey.yaml"
    "400":
      description: API keys are available only for custom integrations
