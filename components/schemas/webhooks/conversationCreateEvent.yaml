allOf:
  - $ref: "./eventSubSchema.yaml"
  - type: object
    properties:
      payload:
        type: object
        description: The payload of the event. The contents of this object depend on the type of event.
        properties:
          conversation:
            allOf:
              - $ref: "../conversationTruncated.yaml"
            description: The conversation that was created.
          creationReason:
            type: string
            description: |
              The reason why the conversation was created, if applicable.
              * `linkRequest` - The conversation was created in order to generate a link request to transfer the user to a different channel.
              * `message` - The conversation was created because a message was sent.
              * `none` - The conversation was not created for a specific purpose. Used primarily when a conversation is created via the Create Conversation API.
              * `notification` - The conversation was created by a call to the Notification API.
              * `prechatCapture` - The conversation was created because the user completed a prechat capture form in the Web Messenger.
              * `startConversation` - The conversation was created because of a call to the startConversation API on one of the SDK integrations, or a start conversation event was triggered from a messaging channel.
            enum:
              - linkRequest
              - message
              - none
              - notification
              - prechatCapture
              - startConversation
          source:
            allOf:
              - $ref: "./sourceWebhook.yaml"
            description: The source of the creation.
          user:
            allOf:
              - $ref: "../user.yaml"
            description:
              The user associated with the conversation. Only present if the created
              conversation was of type personal.
              For sdkGroup conversations, the list of participants can be fetched using
              the List Participants API, if required.
            nullable: true
          referral:
            allOf:
              - $ref: "./referral.yaml"
            description: Referral information, if applicable.
            nullable: true
title: conversation:create
