allOf:
  - $ref: "./eventSubSchema.yaml"
  - type: object
    properties:
      payload:
        type: object
        description: The payload of the event. The contents of this object depend on the type of event.
        properties:
          conversation:
            allOf:
              - $ref: "../conversationTruncated.yaml"
            description: The conversation in which the message was sent. 
          message:
            allOf:
              - $ref: "../message.yaml"
              - type: object
                properties:
                  author:
                    $ref: "./authorWebhook.yaml"
            description: The message that was sent.
          recentNotifications:
            type: array
            description: Messages sent with the Notification API since the last user message.
            items:
              $ref: "../message.yaml"
title: conversation:message